---
import BaseCard from "@components/cards/BaseCard.astro";
import RuleChildren from "@components/cards/RuleChildren.astro";
import type { Rules } from "../../types";
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";
interface Props {
  item: CollectionEntry<"rules">;
}
const { item } = Astro.props;
const rule: Rules = item.data;
const rules = await getCollection("rules");
const rulesData: Rules[] = rules.map((item) => item.data);
---

<BaseCard item={rule}>
  <Fragment slot='after-content'>
    <RuleChildren parentId={rule.id} allRules={rulesData} heading={1}/>
  </Fragment>
</BaseCard>
