---
import BasePage from "@components/pages/BasePage.astro";
import type { CollectionEntry } from "astro:content";
import type { Background } from "../../../types";
import { useTranslations } from "@i18n/utils";
import DisplayInfoList from "@components/pages/DisplayInfoList.astro";
import type { DisplayInfoProps } from "@components/pages/DisplayInfo.astro";

interface Props {
    item: CollectionEntry<"background">;
}
const t = useTranslations();
const { item } = Astro.props;
const background: Background = item.data;

const { access, attributes, feats, skills, general, region } = background;

const mechanics: DisplayInfoProps[] = [
    {
        title: t("background.access"),
        content: access,
    },
    {
        title: t("background.attributes"),
        content: attributes,
        type: "list",
    },
    {
        title: t("background.feats"),
        content: feats,
        type: "featsIds",
    },
    {
        title: t("background.skills"),
        content: skills,
        type: "skillsIds",
    },
    {
        title: t("background.general"),
        content: general,
        type: "trueFalse",
    },
    {
        title: t("background.region"),
        content: region,
    },
];
---

<BasePage item={background}>
    <Fragment slot="before-content">
        <DisplayInfoList items={mechanics} />
    </Fragment>
</BasePage>
