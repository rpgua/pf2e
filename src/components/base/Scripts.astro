---

---

<script defer is:inline>
  window.addEventListener("DOMContentLoaded", () => {
    let pagefind;
    document.querySelector("#search").addEventListener("focus", async () => {
      if (!pagefind) {
        pagefind = await import("/pagefind/pagefind.js");
        await pagefind.options({
          highlightParam: "highlight",
          term_proximity_weight: 4,
        });
        pagefind.init();
      }
    });

    const searchContainer = document.getElementById("searchContainer");
    document.querySelector("#search").addEventListener("keydown", async (e) => {
      const results = await (
        await pagefind.search(e.target.value)
      ).results.slice(0, 10);
      searchContainer.innerHTML = "";
      for (const result of results) {
        const data = await result.data();
        searchContainer.innerHTML += `<article class="mb-2 border-b-2 border-base-content"><h3 class="text-2xl font-bold"><a href="${data.url}">${data.meta.title}</a><h3><p>${data.excerpt}</p></article>`;
        console.log(data);
      }
    });
  });
</script>
